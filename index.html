<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AuditorApp - Sistema de Gesti√≥n de Calidad</title>
    <link rel="stylesheet" href="./styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2><span class="icon">üìã</span> Qualita</h2>
                <p class="subtitle">Sistema de gesti√≥n de calidad</p>
            </div>
            <ul class="sidebar-menu">
                <li class="active" data-section="dashboard"><span class="icon">üìä</span> Dashboard</li>
                <li data-section="notes"><span class="icon">üìù</span> Notas</li>
                <li data-section="checklists"><span class="icon">‚úÖ</span> Checklist</li>
                <li data-section="audit-planning"><span class="icon">üìÖ</span> Planificaci√≥n</li>
                <li data-section="findings"><span class="icon">üîç</span> Hallazgos</li>
                <li data-section="text-correction"><span class="icon">‚úèÔ∏è</span> Corrector</li>
                <li data-section="pdf-generator"><span class="icon">üìÑ</span> Informes PDF</li>
                <li data-section="documents"><span class="icon">üìÅ</span> Documentos</li>
                <li data-section="training"><span class="icon">üéì</span> Capacitaci√≥n</li>
                <li data-section="norms"><span class="icon">‚≠ê</span> Normas</li>
                <li data-section="settings"><span class="icon">‚öôÔ∏è</span> Configuraci√≥n</li>
            </ul>
            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar">AU</div>
                    <div class="user-details">
                        <strong>Auditor</strong>
                        <span>Usuario Premium</span>
                    </div>
                </div>
                <div class="connection-status" id="connection-status">
                    <span class status-indicator></span>
                    <span class="status-text">En l√≠nea</span>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <h1 id="section-title">Dashboard</h1>
                <div class="header-actions">
                    <button class="btn btn-primary" id="new-note-btn">+ Nueva Nota</button>
                    <button class="btn btn-secondary" id="quick-audit-btn">+ Auditor√≠a R√°pida</button>
                </div>
            </div>

            <!-- Dashboard Section -->
            <div class="section active" id="dashboard-section">
                <div class="stats-container">
                    <div class="stat-card">
                        <div class="stat-icon">üìù</div>
                        <div class="stat-info">
                            <h3 id="total-notes">0</h3>
                            <p>Notas guardadas</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìÑ</div>
                        <div class="stat-info">
                            <h3 id="total-pdfs">0</h3>
                            <p>PDFs generados</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-info">
                            <h3 id="total-checklists">0</h3>
                            <p>Checklists</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üîç</div>
                        <div class="stat-info">
                            <h3 id="total-findings">0</h3>
                            <p>Hallazgos</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìÖ</div>
                        <div class="stat-info">
                            <h3 id="total-audits">0</h3>
                            <p>Auditor√≠as</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚≠ê</div>
                        <div class="stat-info">
                            <h3 id="total-norms">1</h3>
                            <p>Normas</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-widgets">
                    <div class="widget">
                        <h3>Notas recientes</h3>
                        <div class="notes-list" id="recent-notes-list">
                            <p class="empty-state">No hay notas recientes. Crea tu primera nota.</p>
                        </div>
                    </div>
                    
                    <div class="widget">
                        <h3>Hallazgos por estado</h3>
                        <div class="chart-container">
                            <canvas id="findings-chart"></canvas>
                        </div>
                    </div>
                    
                    <div class="widget">
                        <h3>Pr√≥ximas auditor√≠as</h3>
                        <div class="audits-list" id="upcoming-audits">
                            <p class="empty-state">No hay auditor√≠as programadas.</p>
                        </div>
                    </div>
                    
                    <div class="widget">
                        <h3>Acciones pendientes</h3>
                        <div class="actions-list" id="pending-actions">
                            <p class="empty-state">No hay acciones pendientes.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Notes Section -->
            <div class="section" id="notes-section">
                <div class="notes-header">
                    <div class="search-box">
                        <input type="text" id="note-search" placeholder="Buscar notas...">
                        <span class="search-icon">üîç</span>
                    </div>
                    <div class="filter-notes">
                        <select id="note-filter">
                            <option value="all">Todas las notas</option>
                            <option value="today">Hoy</option>
                            <option value="week">Esta semana</option>
                            <option value="month">Este mes</option>
                            <option value="important">Importantes</option>
                        </select>
                    </div>
                </div>

                <div class="notes-container">
                    <div class="notes-list" id="all-notes-list">
                        <p class="empty-state">No hay notas. Crea tu primera nota.</p>
                    </div>

                    <div class="note-editor" id="note-editor">
                        <div class="editor-header">
                            <input type="text" id="note-title" placeholder="T√≠tulo de la nota">
                            <div class="editor-actions">
                                <button class="btn-icon" id="save-note" title="Guardar">üíæ</button>
                                <button class="btn-icon" id="delete-note" title="Eliminar">üóëÔ∏è</button>
                                <button class="btn-icon" id="export-note" title="Exportar">üì§</button>
                            </div>
                        </div>
                        <textarea id="note-content" placeholder="Escribe el contenido de tu nota aqu√≠..."></textarea>
                        <div class="editor-footer">
                            <span id="note-date"></span>
                            <div class="tag-selector">
                                <select id="note-tags">
                                    <option value="">Sin etiqueta</option>
                                    <option value="important">Importante</option>
                                    <option value="action">Acci√≥n requerida</option>
                                    <option value="followup">Seguimiento</option>
                                    <option value="observation">Observaci√≥n</option>
                                    <option value="nc">No Conformidad</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Checklists Section -->
            <div class="section" id="checklists-section">
                <div class="section-header">
                    <h2>Checklists de Auditor√≠a</h2>
                    <div class="header-actions">
                        <button class="btn btn-primary" id="new-checklist-btn">+ Nuevo Checklist</button>
                    </div>
                </div>
                
                <div class="checklists-container">
                    <div class="checklists-sidebar">
                        <h3>Plantillas ISO 9001:2015</h3>
                        <div class="templates-list">
                            <div class="template-item" data-template="contextOrganization">
                                <h4>4. Contexto de la Organizaci√≥n</h4>
                                <p>Comprensi√≥n de la organizaci√≥n y su contexto</p>
                            </div>
                            <div class="template-item" data-template="leadership">
                                <h4>5. Liderazgo</h4>
                                <p>Liderazgo y compromiso, pol√≠tica, roles</p>
                            </div>
                            <div class="template-item" data-template="planning">
                                <h4>6. Planificaci√≥n</h4>
                                <p>Riesgos, objetivos y planificaci√≥n de cambios</p>
                            </div>
                            <div class="template-item" data-template="support">
                                <h4>7. Soporte</h4>
                                <p>Recursos, competencia, conciencia, comunicaci√≥n</p>
                            </div>
                            <div class="template-item" data-template="operation">
                                <h4>8. Operaci√≥n</h4>
                                <p>Planificaci√≥n y control operacional</p>
                            </div>
                            <div class="template-item" data-template="evaluation">
                                <h4>9. Evaluaci√≥n del Desempe√±o</h4>
                                <p>Seguimiento, medici√≥n, an√°lisis y evaluaci√≥n</p>
                            </div>
                            <div class="template-item" data-template="improvement">
                                <h4>10. Mejora</h4>
                                <p>Mejora continua, no conformidad y acciones correctivas</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="checklist-content">
                        <div class="empty-checklist" id="empty-checklist">
                            <p>Selecciona una plantilla para crear un checklist o crea uno personalizado</p>
                        </div>
                        
                        <div class="checklist-editor" id="checklist-editor" style="display: none;">
                            <div class="checklist-header">
                                <h3 id="checklist-title">Nuevo Checklist</h3>
                                <div class="checklist-actions">
                                    <button class="btn btn-secondary" id="save-checklist">Guardar</button>
                                    <button class="btn btn-primary" id="export-checklist">Exportar</button>
                                </div>
                            </div>
                            
                            <div class="checklist-items" id="checklist-items">
                                <!-- Los items del checklist se generar√°n aqu√≠ -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Audit Planning Section -->
            <div class="section" id="audit-planning-section">
                <div class="section-header">
                    <h2>Planificaci√≥n de Auditor√≠as</h2>
                    <div class="header-actions">
                        <button class="btn btn-primary" id="new-audit-btn">+ Nueva Auditor√≠a</button>
                    </div>
                </div>
                
                <div class="audit-container">
                    <div class="calendar-view" id="calendar-view">
                        <!-- Vista de calendario para auditor√≠as -->
                    </div>
                    
                    <div class="audit-list">
                        <h3>Auditor√≠as Programadas</h3>
                        <div class="audits-list" id="audits-list">
                            <p class="empty-state">No hay auditor√≠as programadas.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Findings Section -->
            <div class="section" id="findings-section">
                <div class="section-header">
                    <h2>Gesti√≥n de Hallazgos</h2>
                    <div class="header-actions">
                        <button class="btn btn-primary" id="new-finding-btn">+ Nuevo Hallazgo</button>
                        <button class="btn btn-secondary" id="findings-report-btn">Generar Reporte</button>
                    </div>
                </div>
                
                <div class="findings-filters">
                    <div class="filter-group">
                        <label for="finding-type-filter">Tipo:</label>
                        <select id="finding-type-filter">
                            <option value="all">Todos</option>
                            <option value="nc">No Conformidad</option>
                            <option value="observation">Observaci√≥n</option>
                            <option value="opportunity">Oportunidad de Mejora</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label for="finding-status-filter">Estado:</label>
                        <select id="finding-status-filter">
                            <option value="all">Todos</option>
                            <option value="open">Abierto</option>
                            <option value="in-progress">En Progreso</option>
                            <option value="closed">Cerrado</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label for="finding-severity-filter">Gravedad:</label>
                        <select id="finding-severity-filter">
                            <option value="all">Todas</option>
                            <option value="critical">Cr√≠tica</option>
                            <option value="major">Mayor</option>
                            <option value="minor">Menor</option>
                        </select>
                    </div>
                </div>
                
                <div class="findings-list" id="findings-list">
                    <p class="empty-state">No hay hallazgos registrados.</p>
                </div>
            </div>

            <!-- Text Correction Section -->
            <div class="section" id="text-correction-section">
                <div class="section-header">
                    <h2>Corrector de Textos</h2>
                </div>
                
                <div class="correction-container">
                    <div class="text-input-area">
                        <h3>Texto a corregir</h3>
                        <textarea id="text-to-correct" placeholder="Pega aqu√≠ el texto que deseas corregir..."></textarea>
                        <div class="correction-options">
                            <label><input type="checkbox" id="option-grammar" checked> Revisar gram√°tica</label>
                            <label><input type="checkbox" id="option-style" checked> Mejorar estilo</label>
                            <label><input type="checkbox" id="option-iso-terms"> Usar t√©rminos ISO</label>
                        </div>
                        <button class="btn btn-primary" id="correct-text-btn">Corregir Texto</button>
                    </div>
                    <div class="text-result-area">
                        <h3>Texto corregido <span class="improvement-score" id="improvement-score"></span></h3>
                        <div class="corrected-text" id="corrected-text">
                            <p class="placeholder">El texto corregido aparecer√° aqu√≠...</p>
                        </div>
                        <div class="result-actions">
                            <button class="btn btn-secondary" id="copy-corrected-btn">Copiar Texto</button>
                            <button class="btn btn-secondary" id="add-to-notes-btn">Agregar a Notas</button>
                            <button class="btn btn-secondary" id="export-text-btn">Exportar a PDF</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- PDF Generator Section -->
            <div class="section" id="pdf-generator-section">
                <div class="section-header">
                    <h2>Generador de Informes PDF</h2>
                </div>
                
                <div class="pdf-container">
                    <div class="pdf-form">
                        <div class="form-group">
                            <label for="pdf-title">T√≠tulo del informe</label>
                            <input type="text" id="pdf-title" placeholder="Ej: Informe de Auditor√≠a Interna">
                        </div>
                        <div class="form-group">
                            <label for="pdf-subtitle">Subt√≠tulo (opcional)</label>
                            <input type="text" id="pdf-subtitle" placeholder="Ej: Evaluaci√≥n de procesos">
                        </div>
                        <div class="form-group">
                            <label for="pdf-content">Contenido</label>
                            <textarea id="pdf-content" rows="10" placeholder="Escribe el contenido de tu informe aqu√≠..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="pdf-template">Plantilla</label>
                            <select id="pdf-template">
                                <option value="default">Formato est√°ndar</option>
                                <option value="formal">Formato formal</option>
                                <option value="minimal">Formato minimalista</option>
                                <option value="iso">Formato ISO</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="pdf-footer">Texto de pie de p√°gina (opcional)</label>
                            <input type="text" id="pdf-footer" placeholder="Ej: Confidencial - Uso interno">
                        </div>
                        <button class="btn btn-primary" id="generate-pdf-btn">Generar PDF</button>
                    </div>
                    <div class="pdf-preview">
                        <h3>Vista previa</h3>
                        <div class="preview-container" id="pdf-preview">
                            <div class="preview-header">
                                <h2 id="preview-title">T√≠tulo del Informe</h2>
                                <p class="preview-subtitle" id="preview-subtitle"></p>
                                <p class="preview-date">Fecha: <span id="preview-date-value"></span></p>
                            </div>
                            <div class="preview-content" id="preview-content">
                                <p>El contenido de tu informe aparecer√° aqu√≠...</p>
                            </div>
                            <div class="preview-footer" id="preview-footer">
                                <p>Generado con AuditorApp - Sistema de gesti√≥n de calidad</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Documents Section -->
            <div class="section" id="documents-section">
                <div class="section-header">
                    <h2>Gesti√≥n de Documentos</h2>
                    <div class="header-actions">
                        <button class="btn btn-primary" id="new-document-btn">+ Nuevo Documento</button>
                    </div>
                </div>
                
                <div class="documents-container">
                    <div class="documents-filters">
                        <div class="search-box">
                            <input type="text" id="document-search" placeholder="Buscar documentos...">
                            <span class="search-icon">üîç</span>
                        </div>
                        <div class="filter-group">
                            <label for="document-type-filter">Tipo:</label>
                            <select id="document-type-filter">
                                <option value="all">Todos</option>
                                <option value="procedure">Procedimiento</option>
                                <option value="instruction">Instrucci√≥n</option>
                                <option value="record">Registro</option>
                                <option value="form">Formulario</option>
                                <option value="policy">Pol√≠tica</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="document-status-filter">Estado:</label>
                            <select id="document-status-filter">
                                <option value="all">Todos</option>
                                <option value="draft">Borrador</option>
                                <option value="in-review">En Revisi√≥n</option>
                                <option value="approved">Aprobado</option>
                                <option value="obsolete">Obsoleto</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="documents-list" id="documents-list">
                        <p class="empty-state">No hay documentos registrados.</p>
                    </div>
                </div>
            </div>

            <!-- Training Section -->
            <div class="section" id="training-section">
                <div class="section-header">
                    <h2>Gesti√≥n de Capacitaci√≥n</h2>
                    <div class="header-actions">
                        <button class="btn btn-primary" id="new-training-btn">+ Nueva Capacitaci√≥n</button>
                    </div>
                </div>
                
                <div class="training-container">
                    <div class="training-stats">
                        <div class="stat-card">
                            <h3 id="total-trainings">0</h3>
                            <p>Capacitaciones programadas</p>
                        </div>
                        <div class="stat-card">
                            <h3 id="training-participants">0</h3>
                            <p>Participantes totales</p>
                        </div>
                        <div class="stat-card">
                            <h3 id="completion-rate">0%</h3>
                            <p>Tasa de finalizaci√≥n</p>
                        </div>
                    </div>
                    
                    <div class="trainings-list" id="trainings-list">
                        <p class="empty-state">No hay capacitaciones programadas.</p>
                    </div>
                </div>
            </div>

            <!-- Norms Section -->
            <div class="section" id="norms-section">
                <div class="section-header">
                    <h2>Normas de Calidad</h2>
                    <div class="header-actions">
                        <button class="btn btn-primary" id="add-norm-btn">Agregar Norma</button>
                        <button class="btn btn-secondary" id="update-norms-btn">Buscar Actualizaciones</button>
                    </div>
                </div>
                
                <div class="norms-container">
                    <div class="norms-list">
                        <div class="norm-card active">
                            <div class="norm-header">
                                <h3>ISO 9001:2015</h3>
                                <span class="badge">Activa</span>
                            </div>
                            <p class="norm-description">Sistemas de gesti√≥n de calidad - Requisitos</p>
                            <div class="norm-details">
                                <p><strong>Estado:</strong> Vigente</p>
                                <p><strong>√öltima revisi√≥n:</strong> 2015</p>
                                <p><strong>Pr√≥xima revisi√≥n:</strong> 2025 (estimado)</p>
                            </div>
                            <div class="norm-actions">
                                <button class="btn-icon" title="Ver detalles">üëÅÔ∏è</button>
                                <button class="btn-icon" title="Desactivar">‚öôÔ∏è</button>
                                <button class="btn-icon" title="Exportar">üì§</button>
                            </div>
                        </div>
                        
                        <div class="add-norm-card" id="show-norm-form">
                            <div class="add-icon">+</div>
                            <p>Agregar nueva norma</p>
                        </div>
                    </div>
                    
                    <div class="norm-form" id="norm-form">
                        <h3>Agregar Nueva Norma</h3>
                        <div class="form-group">
                            <label for="norm-name">Nombre de la norma</label>
                            <input type="text" id="norm-name" placeholder="Ej: ISO 14001:2015">
                        </div>
                        <div class="form-group">
                            <label for="norm-description">Descripci√≥n</label>
                            <textarea id="norm-description" placeholder="Describe el prop√≥sito de esta norma..."></textarea>
                        </div>
                        <div class="form-group">
                            <label for="norm-version">Versi√≥n</label>
                            <input type="text" id="norm-version" placeholder="Ej: 2015">
                        </div>
                        <div class="form-group">
                            <label for="norm-status">Estado</label>
                            <select id="norm-status">
                                <option value="active">Activa</option>
                                <option value="draft">Borrador</option>
                                <option value="withdrawn">Retirada</option>
                                <option value="upcoming">Pr√≥xima</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="norm-content">Contenido (opcional)</label>
                            <textarea id="norm-content" rows="5" placeholder="Puedes agregar requisitos, puntos clave, etc..."></textarea>
                        </div>
                        <div class="form-actions">
                            <button class="btn btn-secondary" id="cancel-norm-btn">Cancelar</button>
                            <button class="btn btn-primary" id="save-norm-btn">Guardar Norma</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Settings Section -->
            <div class="section" id="settings-section">
                <div class="section-header">
                    <h2>Configuraci√≥n</h2>
                </div>
                
                <div class="settings-container">
                    <div class="settings-group">
                        <h3>Preferencias de la aplicaci√≥n</h3>
                        <div class="setting-item">
                            <label for="setting-offline">Modo offline</label>
                            <input type="checkbox" id="setting-offline">
                            <span class="setting-description">Permitir uso sin conexi√≥n a internet</span>
                        </div>
                        <div class="setting-item">
                            <label for="setting-autosave">Auto-guardado</label>
                            <input type="checkbox" id="setting-autosave" checked>
                            <span class="setting-description">Guardar autom√°ticamente cada 5 minutos</span>
                        </div>
                        <div class="setting-item">
                            <label for="setting-notifications">Notificaciones</label>
                            <input type="checkbox" id="setting-notifications" checked>
                            <span class="setting-description">Recordatorios de auditor√≠as y vencimientos</span>
                        </div>
                    </div>
                    
                    <div class="settings-group">
                        <h3>Personalizaci√≥n del dashboard</h3>
                        <div class="dashboard-widgets-selector">
                            <label><input type="checkbox" value="notes" checked> Notas recientes</label>
                            <label><input type="checkbox" value="findings" checked> Hallazgos por estado</label>
                            <label><input type="checkbox" value="audits" checked> Pr√≥ximas auditor√≠as</label>
                            <label><input type="checkbox" value="actions" checked> Acciones pendientes</label>
                            <label><input type="checkbox" value="training"> Estado de capacitaci√≥n</label>
                            <label><input type="checkbox" value="compliance"> Nivel de cumplimiento</label>
                        </div>
                        <button class="btn btn-primary" id="save-dashboard-config">Guardar configuraci√≥n</button>
                    </div>
                    
                    <div class="settings-group">
                        <h3>Datos y almacenamiento</h3>
                        <div class="storage-info">
                            <p>Espacio utilizado: <span id="storage-used">0 MB</span></p>
                            <progress id="storage-progress" value="0" max="100"></progress>
                        </div>
                        <div class="data-actions">
                            <button class="btn btn-secondary" id="export-data-btn">Exportar todos los datos</button>
                            <button class="btn btn-secondary" id="import-data-btn">Importar datos</button>
                            <button class="btn btn-warning" id="clear-data-btn">Eliminar todos los datos</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para crear nuevos elementos -->
    <div class="modal" id="create-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3 id="modal-title">Crear nuevo elemento</h3>
            <div class="modal-body" id="modal-body">
                <!-- El contenido del modal se cargar√° din√°micamente -->
            </div>
        </div>
    </div>

    <script src="./script.js"></script>
</body>
</html>